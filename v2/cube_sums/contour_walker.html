<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Autdor" content="John Whitehouse">
<meta name="KeyWords" content="Cubes">
<link rel="StyleSheet" href="http://www.eddaardvark.co.uk/jw.css" type="text/css" media="screen">
<link rel="StyleSheet" href="cube_styles.css" type="text/css" media="screen">
<link rel="apple-touch-icon" href="http://www.eddaardvark.co.uk/favicon.png" />
<link rel="shortcut icon" href="http://www.eddaardvark.co.uk/favicon.png" />

<script src="http://www.eddaardvark.co.uk/john.js"> </script>
<script src="../js_library/misc.js"> </script>
<script src="../js_library/canvas_helpers.js"> </script>
<script src="../js_library/event_parser.js"> </script>
<script src="../js_library/colours.js"> </script>
<script src="../js_library/vlint.js"> </script>
<script src="../js_library/canvas_helpers.js"> </script>
<script src="big_cube.js"> </script>
<script src="sub_cube.js"> </script>
<script src="cube_walker.js"> </script>
<script src="contour_walker.js"> </script>
<script src="cube_surfer.js"> </script>
<script src="cubes.js"> </script>
<script src="results.js"> </script>

<title> Contour walker </title>


<script>

    var mode = CubeSurfer.SM_Z;    
    var action = CubeSurferGrid.SCROLL;

    var grid = [null, null, null];
    var gelement = [null, null, null];
    var gmode = [CubeSurfer.SM_Z, CubeSurfer.SM_Z, CubeSurfer.SM_Z];

    var current_x = 7;
    var current_y = 9;
    var view_div = null;
    var table_mode = CubeSurfer.SM_Z;
    var timer;
    
    var contour_walker = null;
    var cm_value = ContourWalker.NORMAL;
    var tm_value = ContourWalker.FULL;
    
    //------------------------------------------------------------------------------------------------------------------------------------
    // Auto-Start
    //------------------------------------------------------------------------------------------------------------------------------------
    OnStart = function ()
    {    
        CubeSurfer.Initialise ();
        VLInt.Initialise ();
        ContourWalker.Initialise (contour_view,hover_cont);
        
        var all = document.getElementsByClassName("expr");

        for (var i = 0; i < all.length; i++)
        {
            Misc.expand_element (all[i]);
        }
    }

    ClickContour = function (event)
    {
        if (contour_walker && contour_walker.contour)
        {
            contour_walker.ScrollTrack (200, contour_view);
        }
    }
    ContourHover = function (event)
    {
        if (contour_walker)
        {
            hover_cont.innerHTML = contour_walker.HoverText (event);
        }
    }
    AnimateContour = function ()
    {
        if (contour_walker)
        {
            var speed = parseInt (a_speed.value);
            
            if (speed < 1 || speed > 200)
            {
                Misc.Alert ("Speed must be in the range 1-200");
                return;
            }
            contour_walker.Animate (speed, 50, contour_view);
        }
    }
    StopAnimate = function ()
    {
        contour_walker.StopAnimate ();
    }
    ShowResults = function ()
    {
        ContourWalker.ShowResults (results);
    }
    TrackContour = function()
    {
        var xin = parseInt (x_start.value);
        var yin = parseInt (y_start.value);
        var x = VLInt.FromInt (xin);
        var y = VLInt.FromInt (xin);
        var cs = CubeSurfer.FromPosition (x, y);
        var cw = cs.cw; 
        
        contour_walker = ContourWalker.FromVLInts (cw.big_cy.root, cw.big_cx.root);
        contour_walker.cmode = cm_value;
        contour_walker.SetTrackingMode (tm_value);        
        contour_walker.CreateTrack (1001, contour_view);
    }
    SetColourMode = function ()
    {
        cm_value = colour_mode.value;
        if (contour_walker)
        {
            contour_walker.cmode = cm_value;
            contour_walker.DrawTrack (contour_view);
        }
    }
    SetTrackingMode = function ()
    {
        tm_value = tracking_mode.value;
        if (contour_walker)
        {
            contour_walker.SetTrackingMode (tm_value);
        }
    }

</script>

</head>

<!-- Body -->

<body onload="OnStart();">

<!-- Banner -->

	<div style="margin: auto; widtd: 1024px;">
		<button style="widtd: 180px;" class="banner clickable" onclick="Show('http://www.eddaardvark.co.uk')">
			<p> <img border="0" src="http://www.eddaardvark.co.uk/images/home.png">
			<p> <strong>Home page</strong>
		</button>

		<button class="banner">
			<h1> Contour Following </h1>
		</button>

		 <!-- Ads -->

	</div>
	
    <!--
    ==============================================================================================================
    Main content
    ==============================================================================================================
    -->    
    <!-- Shows the vicinity of the current (x,y) position -->
    
    <div class="float in2 box w10" style="overflow: auto;">

        <h1> Contour walker </h1>
        <p>
        This page isn't ready yet.
        </p>
        
        <h4>Value view </h4><p>
          X <input type="text" maxlength="12" id="x_start" size="12" value="7">  
          Y <input type="text" maxlength="12" id="y_start" size="12" value="9">
        
    <h4> Contour tracking </h4>
        
        <p>               
        <button onclick="TrackContour()"> Track Contour </button>     
        <button onclick="AnimateContour()"> Animate </button>     
        <button onclick="StopAnimate()"> Stop </button>          
        <button onclick="ShowResults()"> Results </button>                
        
        Tracking Mode: 
           
           <select id="tracking_mode" onchange="SetTrackingMode ()">
                    <option value="0">Full</option>
                    <option value="1">Compact</option>>
           </select>
        
        Colouring: 
           
           <select id="colour_mode" onchange="SetColourMode ()">
                    <option value="0">Blue/Red</option>
                    <option value="1">Rainbow</option>>
           </select>
        
        Animate Speed: <input type="text" maxlength="12" id="a_speed" size="12" value="30">  
        
        </p><p>
         <table>
          <tr>
           <td>
            <img id="contour_view" onClick="ClickContour(event)" onMouseMove="ContourHover(event)">
            <br>
            <span id="hover_cont"> [hover mouse over grid to see values] </span>
           </td>
          </tr>
         </table>
        
        <p>
      
    </div>

    
    <div class="endfloat"> &nbsp; </div>
    
    
<!-- Results -->

    <div class="float w10 in2 box" style="overflow: auto;">

        <h2> Results </h2>
        
        <p>
            <span id="results"> Results go here </span>
        </p>
    </div>

	    
    
<!-- Generic links -->

    <div class="float w10 in2 box" style="overflow: auto;">

        <h2> Other pages </h2>
        
        <p>
            <iframe class="links" src="http://www.eddaardvark.co.uk/links.html" title="Other pages on this site"></iframe>
        </p>
    </div>

<!-- Copyright -->

    <p class="small"> (c) John Whitehouse 2021 <p>

			  

</body>
</html>




