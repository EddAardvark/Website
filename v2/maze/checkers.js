//-------------------------------------------------------------------------------------------------
// Functions for checking things, used by spells
// (c) John Whitehouse 2013
// www.eddaardvark.co.uk
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Check for cells with a special value
//-------------------------------------------------------------------------------------------------
function SpecialChecker (special_code)
{
    this.match = special_code
}
//-------------------------------------------------------------------------------------------------
// Test a cell
//-------------------------------------------------------------------------------------------------
SpecialChecker.prototype.CheckCell = function (cell)
{
    return cell.special == this.match;
}
//-------------------------------------------------------------------------------------------------
// Check for cells that contain an item of a particular type
//-------------------------------------------------------------------------------------------------
function ItemMaskChecker (mask)
{
    this.mask = mask;
}
//-------------------------------------------------------------------------------------------------
// Test a cell
//-------------------------------------------------------------------------------------------------
ItemMaskChecker.prototype.CheckCell = function (cell)
{
    var num = cell.items.length;

    for (var i = 0 ; i < num ; ++i)
    {
        if ((cell.items [i].id & this.mask) != 0)
        {
            return true;
        }
    }
    return false;
}
//-------------------------------------------------------------------------------------------------
// Check for cells with a lock
//-------------------------------------------------------------------------------------------------
function LockChecker ()
{
}
//-------------------------------------------------------------------------------------------------
// Test a cell
//-------------------------------------------------------------------------------------------------
LockChecker.prototype.CheckCell = function (cell)
{
    return (cell.special & LOCK_MASK) != 0;
}
//-------------------------------------------------------------------------------------------------
// Check for anything unusal
//-------------------------------------------------------------------------------------------------
function AnythingChecker ()
{
}
//-------------------------------------------------------------------------------------------------
// Test a cell
//-------------------------------------------------------------------------------------------------
AnythingChecker.prototype.CheckCell = function (cell)
{
    return cell.special != SPECIAL_NONE || cell.items.length > 0;
}


